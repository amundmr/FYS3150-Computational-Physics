\documentclass[../main.tex]{subfiles}
\begin{document}
\section{Results} \label{sec:results}
\subsection{Gauss-Legendre} \label{sec:QMProbresults}

Solving our integral with Legandre polynomials gives unstable results for $N \in [-5,5]$ as seen in the table below. Though with a carefull choise of N = 27 and integration limits a = -2.9 and b = 2.9 our results are precice with 4 leading digits after the decimal point.

\begin{table}[h!]
\begin{center}
  \begin{tabular}{ |p{1cm}|p{4cm}|p{3cm}|}
 \hline
 \multicolumn{3}{|c|}{Legandre} \\
 \hline
       N   &Approximate integral & Error\\
 \hline
 11 & 0.297447 & 0.104681\\
 15 & 0.315863 & 0.123098\\
 21 & 0.268075 & 0.075310\\
 25 & 0.240135 & 0.047370\\
 27 & 0.229623 & 0.036858\\
 27*& 0.192725 & 0.000039\\
 \hline
 \end{tabular}
 \caption{Values for the integral for different N. *: Special case with a = -2.9 and b = 2.90.}
 \end{center}
\end{table}

\subsection{Gauss-Laguerre} \label{sec:QMProbresults}
Improving our algorithm using Legandre polynomials for angles and Laguerre polynomials for radial parts improved accuracy and stability of our results. An increase in $N \in [-5,5]$ from N = 11 to N = 15 also gives an increase in precistion, tough for and higer increase the accuracy decrese slightly, which is shown in Table 2.

\begin{table}[h!]
\begin{center}
\begin{tabular}{ |p{1cm}|p{4cm}|p{3cm}|}
 \hline
 \multicolumn{3}{|c|}{Laguerre} \\
 \hline
       N   & Approximate integral & Error\\
 \hline
 11 &  0.183021 &  0.009743\\
 15 &  0.193285 &  0.000520\\
 21 &  0.194807 &  0.002050\\
 25 &  0.194804 &  0.002030\\
 27 &  0.194795 &  0.002029\\

 \hline
\end{tabular}
\caption{Fill me in!}
\end{center}
\end{table}

\FloatBarrier

%------------------------
\subsection{Monte Carlo}
\subsubsection{Naïve approach}
The results from our Monte Carlo integration program (\href{https://github.com/kmaasrud/Project-3/blob/master/code/Monte-Carlo/main.exe}{main.exe}), are listed in this table:

\begin{table}[h!]
  \begin{center}
    \begin{tabular}{ |p{1cm}|p{4cm}|p{3cm}|}
     \hline
     \multicolumn{3}{|c|}{Naïve Monte Carlo} \\
     \hline
           N   & Approximate integral & Error\\
     \hline
     $10^5$ &  0.16799913 &  ?\\
     $10^6$ &  0.14673294 &  ?\\
     $10^7$ &  0.21039322 &  ?\\
     $10^8$ &  0.1898926 &  ?\\
     $10^9$ &  0.19482898 &  ?\\
    
     \hline
    \end{tabular}
    \caption{Results from running Monte Carlo with cartesian coordinates and integration limits $x\in[-5,5]$ - our approximation of infinity.}
  \end{center}
\end{table}

%------------------------------------
\subsubsection{Importance sampling}
The results from our Monte Carlo integration program (\href{https://github.com/kmaasrud/Project-3/blob/master/code/Monte-Carlo/main.exe}{main.exe}), are listed in this table:

\begin{table}[h!]
    \begin{center}
      \begin{tabular}{ |p{1cm}|p{4cm}|p{3cm}|}
       \hline
       \multicolumn{3}{|c|}{Improved Monte Carlo} \\
       \hline
             N   & Approximate integral & Error\\
       \hline
       $10^5$ &  0.21375956 &  0.0684499 \\
       $10^6$ &  0.1898093 &  0.0414734 \\
       $10^7$ &  0.19337239 &  0.00909323 \\
       $10^8$ &  0.20778867 &  0.00601385\\
       $10^9$ &  0.21422913 &  0.00256967\\
      
       \hline
      \end{tabular}
      \caption{Results from running Monte Carlo with importance sampling along the exponential distribution and using spherical coordinates.}
    \end{center}
  \end{table}

\subsection{Paralellization} \label{sec:res-paralell}
Our paralellization results was achieved using a quad core Intel Core i5-8250U processor with 6MB cache at 1.6GHz base clock, which boosted to 3.4GHz during testing. Thermal throttling was avoided.
The memory was 4GB 1866MHz LPDDR3 soldered on board. See table \ref{tab:res-paralell}

We also ran this test on an octa-core processor with memory of 8GB 1866MHz, and achieved no noticable speedup compared to the abovementioned computer. See table \ref{tab:res-paralell-octacore}

$\vspace{0.1cm}$

For runtime imputs the number of samples was set to $10^8$, with an approximation of infity of $\lambda = 5$.
\begin{table}[!h]
\begin{center}
    \begin{tabular}{ l | l l l l }

        Compile flags & -O3 -fopenMP \hspace{5mm} & -O3 \hspace{1cm} & -fopenmp\hspace{5mm} & no optimzation \\
        \hline
        Naive MC      & 12s          & 31s &    71s      & 173s           \\
        Improved MC   & 15s          & 38s &     79s     & 200s
    \end{tabular}
    \caption{Shows the time spent on the same calculations with different compile parameters on a quad core processor.($N = 10^8, \lambda = 5$)} \label{tab:res-paralell}
    \end{center}
\end{table}

\begin{table}[!h]
\begin{center}
    \begin{tabular}{ l | l }

        Compile flags & -O3 -fopenMP \\
        \hline
        Naive MC      & 12s      \\
        Improved MC   & 15s
    \end{tabular}
    \caption{Shows the time spent on the Monte-Carlo calculations on an octa-core system.($N = 10^8, \lambda = 5$)} \label{tab:res-paralell-octacore}
    \end{center}
\end{table}


\end{document}
